<!-- ü™ê Hero Canvas Section -->
<header class="site-header"><canvas id="funebraCanvas"></canvas>
<div class="hero-overlay glass">
<h1>Funebra Math-Art Engine</h1>

<nav><a href="/">Home</a> <a href="/gallery">Gallery</a> <a href="/engine">Engine</a> <a href="/docs">Docs</a> <a href="/about">About</a> <a href="/support">Support</a></nav>

<div class="slider-wrapper"><label for="sides">Polygon sides:</label> <input id="sides" max="20" min="3" type="range" value="5" /> <span id="side-count">5</span></div>
</div>
</header>
<!-- üß≠ Breadcrumbs + Add Entry -->

<div class="breadcrumbs-wrapper">
<div class="breadcrumbs">$BREADCRUMBS$</div>
<?if($ADD_ENTRY_LINK$)?>

<div class="add-link-wrapper">[ <a class="add-link" href="$ADD_ENTRY_LINK$">Add news entry</a> ]</div>
<?endif?></div>
<!-- üìñ Main Layout -->

<main class="layout">
<article>$GLOBAL_CATNEWS$ $NEWS$</article>

<aside>
<div class="widget">
<h3>Calendar</h3>
$CALENDAR$</div>

<div class="widget">
<h3>Archive</h3>
$ARCHIVE$</div>

<div class="widget">
<h3>Site Stats</h3>
$STATISTICS$</div>
</aside>
</main>
<!-- ü™ê Footer -->

<footer>
<p>&copy; 2025 Funebra Math-Art Engine &mdash; Created by pLabs Entertainment.</p>

<p><a href="/contact">Contact</a> &middot; <a href="/privacy">Privacy</a></p>
</footer>
<!-- üß† CSS Styles -->
<style type="text/css">:root {
  --bg: #000;
  --text: #e0e0e0;
  --accent: gold;
  --panel: #1a1a1a;
  --max-width: 1200px;
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: Roboto, sans-serif;
  margin: 0;
  overflow-x: hidden;
}

/* ü™ê Canvas Hero Header */
.site-header {
  position: relative;
  height: 300px;
  overflow: hidden;
  border-bottom: 1px solid var(--accent);
}

#funebraCanvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  background: #000;
}

/* ‚ú® Glassmorphism Overlay */
.hero-overlay.glass {
  position: relative;
  z-index: 2;
  text-align: center;
  padding-top: 60px;
  backdrop-filter: blur(12px);
  background: rgba(0, 0, 0, 0.25);
  border-top: 1px solid rgba(255, 255, 255, 0.15);
  border-bottom: 1px solid rgba(255, 255, 255, 0.15);
}

.hero-overlay h1 {
  color: var(--accent);
  font-size: 2rem;
  margin-bottom: 1rem;
}

.hero-overlay nav a {
  color: var(--accent);
  text-decoration: none;
  margin: 0 0.5rem;
  font-weight: 500;
}

.hero-overlay nav a:hover {
  text-decoration: underline;
}

/* üåÄ Slider */
.slider-wrapper {
  margin-top: 1rem;
  color: var(--accent);
  font-size: 0.9rem;
}
.slider-wrapper input[type="range"] {
  width: 150px;
  vertical-align: middle;
  accent-color: var(--accent);
  cursor: pointer;
}
.slider-wrapper span {
  margin-left: 0.5rem;
  font-weight: 600;
}

/* üß≠ Breadcrumbs */
.breadcrumbs-wrapper {
  max-width: var(--max-width);
  margin: 1rem auto;
  padding: 0 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.breadcrumbs {
  font-size: 0.9rem;
  color: var(--accent);
}
.add-link-wrapper a {
  color: var(--accent);
  font-weight: 500;
}

/* üìñ Layout */
main.layout {
  max-width: var(--max-width);
  margin: 2rem auto;
  padding: 0 1rem;
  display: grid;
  grid-template-columns: 3fr 1fr;
  gap: 2rem;
}

article h2 { color: var(--accent); margin-bottom: 1rem; }
article p { margin-bottom: 1rem; }

aside {
  background: var(--panel);
  padding: 1rem;
  border-radius: 8px;
}

aside h3 {
  color: var(--accent);
  margin-bottom: 0.5rem;
}

.widget {
  margin-bottom: 1.5rem;
}

/* ü™ê Footer */
footer {
  background: var(--panel);
  text-align: center;
  padding: 1.5rem;
  border-top: 1px solid var(--accent);
  font-size: 0.9rem;
}
footer a {
  color: var(--accent);
  text-decoration: none;
}
footer a:hover {
  text-decoration: underline;
}

/* üì± Responsive */
@media (max-width: 800px) {
  main.layout { grid-template-columns: 1fr; }
  .hero-overlay h1 { font-size: 1.5rem; }
  .hero-overlay nav { display: flex; flex-wrap: wrap; justify-content: center; }
  .slider-wrapper { margin-top: 0.5rem; }
}
</style>
<!-- Import map to resolve bare module specifiers used by dependencies (e.g., "three") --><script type="importmap">
 {
 "imports": {
 "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
 "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
 }
 }
 </script><script>
  // Ensure overlay canvas exists ASAP so later tests don't fail
  (function ensureCanvas(){
    var cvs = document.getElementById('funebraCanvas');
    if (!cvs){
      cvs = document.createElement('canvas');
      cvs.id = 'funebraCanvas';
      cvs.style.position = 'fixed';
      cvs.style.inset = 0;
      cvs.style.pointerEvents = 'none';
      if (document.body) document.body.appendChild(cvs);
      else document.addEventListener('DOMContentLoaded', function(){
        if (!document.getElementById('funebraCanvas')) document.body.appendChild(cvs);
      });
    }
  })();
  </script><script type="module">
   import Funebra from "https://funebra.github.io/math-art-engine/script.module-old.js";
const { makeParametric } = Funebra;

    const cvs = document.getElementById('funebraCanvas');
    const R = 120;
    const sides = Number(document.getElementById("sides").value);
    const turn = (i) => (i / sides) * Math.PI * 2 - Math.PI / 2; // point up

    let a = 0;
    function drawFunebra() {
      const { innerWidth:w, innerHeight:h } = window;
      const tri = makeParametric({
        x: (i) => Math.cos(turn(i)+a) * R + w/2,
        y: (i) => Math.sin(turn(i)+a) * R + h/2,
        steps: sides,
        close: true,
        color: "#ffb400"
      });
      Funebra.render([tri], { canvas: cvs, fill:true, stroke: "#ff6600", lineWidth: 2, clear: true });
      a += 0.01;
      requestAnimationFrame(drawFunebra);
    }
    requestAnimationFrame(drawFunebra);
    addEventListener('resize', () => { /* Funebra handles size on render */ });
    window.Funebra = Funebra;

  </script><!-- üßÆ Funebra Polygon Animation --><script type="module">
  import Funebra from "https://funebra.github.io/math-art-engine/script.module-old.js";
  const { makeParametric } = Funebra;

  const cvs = document.getElementById('funebraCanvas');
  const slider = document.getElementById('sides');
  const count = document.getElementById('side-count');
  let a = 0;

  function getRadius() {
    const minDim = Math.min(window.innerWidth, window.innerHeight);
    return Math.max(60, minDim * 0.25); // Responsive scaling
  }

  function drawFunebra() {
    const sides = Number(slider.value);
    count.textContent = sides;

    const R = getRadius();
    const turn = (i) => (i / sides) * Math.PI * 2 - Math.PI / 2;
    const { innerWidth: w, innerHeight: h } = window;

    const shape = makeParametric({
      x: (i) => Math.cos(turn(i)+a) * R + w/2,
      y: (i) => Math.sin(turn(i)+a) * R + h/2,
      steps: sides,
      close: true,
      color: "#ffb400"
    });

    Funebra.render([shape], { 
      canvas: cvs, 
      fill: true, 
      stroke: "#ff6600", 
      lineWidth: 2, 
      clear: true 
    });

    a += 0.01;
    requestAnimationFrame(drawFunebra);
  }

  slider.addEventListener('input', () => { count.textContent = slider.value; });
  window.addEventListener('resize', () => { /* canvas auto handled */ });
  requestAnimationFrame(drawFunebra);
</script><!--
 <script type="module" src="https://plabsfill.com/funebra/init-funebra.js"></script>  -->
