

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Encoding & title fixed -->
  <meta charset="utf-8" />
  <title>pLabs Entertainment © 2000–2012 (Aftermath – Patched)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://plabs.at.ua/bluetooth/logo/star.png" rel="icon" />

  <!-- Import map to resolve bare module specifiers used by dependencies (e.g., "three") -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
    }
  }
  </script>

  <!-- Original external deps (kept) -->
  <script src="https://plabs.at.ua/res/tool2019-10-1707.js"></script>
  <script src="https://plabs.at.ua/res/math.js"></script>
  <script src="https://plabs.at.ua/res/bgspec0012o017o.js"></script>
  <script src="https://plabs.at.ua/res/defObj.js"></script>
  <script src="https://plabs.at.ua/res/jquery-1.9.1.min.js"></script>
  <script src="https://plabs.at.ua/res/download.js"></script>

  <!-- Funebra (module) – drawn on a dedicated overlay canvas -->
  <style>
    html,body{height:100%}
    body{margin:0; overflow:hidden; background:#000}
    #funebraCanvas{position:fixed; inset:0; pointer-events:none; z-index:0; }
    #testPanel{position:fixed; top:8px; right:8px; background:rgba(0,0,0,.6); color:#cfe9cf; padding:.5rem .75rem; border-radius:.5rem; font:12px/1.4 system-ui,Segoe UI,Arial}
    #testPanel b{color:#fff}
    .ok{color:#9fff9f}
    .fail{color:#ff9f9f}
  
#tool, #page01, #page03 { position:relative; z-index:10; }
    

  </style>
  <script>
  // Ensure overlay canvas exists ASAP so later tests don't fail
  (function ensureCanvas(){
    var cvs = document.getElementById('funebraCanvas');
    if (!cvs){
      cvs = document.createElement('canvas');
      cvs.id = 'funebraCanvas';
      cvs.style.position = 'fixed';
      cvs.style.inset = 0;
      cvs.style.pointerEvents = 'none';
      if (document.body) document.body.appendChild(cvs);
      else document.addEventListener('DOMContentLoaded', function(){
        if (!document.getElementById('funebraCanvas')) document.body.appendChild(cvs);
      });
    }
  })();
  </script>

  <script type="module">
//     import Shapes from 'https://funebra.github.io/math-art-engine/script.shapes.module.js';
   import Funebra from "https://funebra.github.io/math-art-engine/script.module-old.js";
const { makeParametric } = Funebra;

    const cvs = document.getElementById('funebraCanvas');
    const R = 120;
    const sides = 3;
    const turn = (i) => (i / sides) * Math.PI * 2 - Math.PI / 2; // point up

    let a = 0;
    function drawFunebra() {
      const { innerWidth:w, innerHeight:h } = window;
      const tri = makeParametric({
        x: (i) => Math.cos(turn(i)+a) * R + w/2,
        y: (i) => Math.sin(turn(i)+a) * R + h/2,
        steps: sides,
        close: true,
        color: "#ffb400"
      });
      Funebra.render([tri], { canvas: cvs, fill:true, stroke: "#ff6600", lineWidth: 2, clear: true });
      a += 0.01;
      requestAnimationFrame(drawFunebra);
    }
    requestAnimationFrame(drawFunebra);
    addEventListener('resize', () => { /* Funebra handles size on render */ });
    window.Funebra = Funebra;

  </script>
</head>
<body>
  <!-- ===== Quick self-tests (act like test-cases) ===== -->
  <div id="testPanel">
    <b>Smoke Tests</b>
    <ul id="tests" style="margin:.25rem 0 0 .9rem; padding:0"></ul>
  </div>
  <script type="module">
    const T = document.getElementById('tests');
    const pass = (msg)=>{ const li=document.createElement('li'); li.className='ok'; li.textContent='✓ '+msg; T.appendChild(li); };
    const fail = (msg,e)=>{ const li=document.createElement('li'); li.className='fail'; li.textContent='✗ '+msg+ (e? ' — '+(e.message||e):''); T.appendChild(li); };

    // Test 1: Import mapping for "three" resolves and is usable
    try {
      const THREE = await import('three');
      if (THREE.Vector3) {
        const v = new THREE.Vector3(1,2,3);
        pass('three import resolved (Vector3 length='+v.length().toFixed(3)+')');
      } else {
        fail('three import missing Vector3');
      }
    } catch(e){ fail('three import failed', e); }

    // Test 2: Funebra available OR graceful fallback
    try {
      const mod = await import('https://funebra.github.io/math-art-engine/script.module.js');
      if (mod && typeof mod.default?.render === 'function') pass('Funebra available');
      else pass('Funebra not available — using canvas fallback');
    } catch(e){ pass('Funebra import error — using canvas fallback'); }

    // Test 3: Canvas injected
    try {
      const c = document.getElementById('funebraCanvas');
      if (c) pass('funebraCanvas present');
      else fail('funebraCanvas missing');
    } catch(e){ fail('Canvas test failed', e); }

    // Test 4: Animation ticking (frame counter increases)
    try {
      const c = document.getElementById('funebraCanvas');
      let frames=0; const r = ()=>{ frames++; if(frames>10){ pass('animation ticking'); cancelAnimationFrame(id);} else { id=requestAnimationFrame(r);} };
      let id = requestAnimationFrame(r);
      setTimeout(()=>{ if(frames<=1) fail('animation did not tick'); }, 1000);
    } catch(e){ fail('Animation test failed', e); }

    // Test 5: mvx is globally available
    try {
      if (typeof window.mvx === 'function') {
        pass('mvx is globally available');
      } else {
        fail('mvx is not on window');
      }
    } catch(e){ fail('mvx availability test failed', e); }
  </script>

  <!-- ===== Legacy Aftermath UI (kept, corrected) ===== -->

  <!-- Minimal seed canvas kept (unused by Funebra layer) -->
  <canvas id="canvas" style="display:none"></canvas>

  <script>
  (function(){
    'use strict';

    /* ---------- Safe stubs & guards ---------- */
    if (typeof window.pTool1 !== 'function') {
      window.pTool1 = function(){};
    }

    // Globals (legacy naming preserved)
    var $icon = [255, 32, 64, 16, 4, 8];
    var $iconbg = [" ","!"," ","@"," ","#"," "," ",")","(","%"," ","K"," "," ",""," "," ","�","�","_",",",0,"0"];
    var Cam0110 = [" ","1","2","3","4","5","6","7","8","9","0"];

    var x = 0, y = 0, i = 256, iCount = 0, pCounter = []; 
    var deg2radians = Math.PI * 2 / 360; 
    var amountOfp = -2; 

    var h = 0;
    var oi = 'DIV';

    function chngBG(){
      try {
        var sel = document.getElementById('selo');
        if (sel) document.body.style.background = sel.options[sel.selectedIndex].value;
      } catch(_){}
    }

    var ca = 1, cb = 34, cz = 0;
    (function gear(){ if(ca <= 32){ ca += 2; cz = ca; } setTimeout(gear,64); })();
    (function osc1(){ if (ca === 33){ if (cb > 1) cb -= 1; cz = cb; } if (cb === 1){ cb = 34; ca = 1; } setTimeout(osc1,16); })();

    // Dedup helper to avoid duplicate IDs
    function ensureUniqueId(id){
      var el = document.getElementById(id);
      if (el) return el; 
      var n = document.createElement('div');
      n.id = id;
      n.style.position = 'absolute';
      document.body.appendChild(n);
      return n;
    }

    function printit(){
      pTool1();
      if(h < 600){
        document.body.style.backgroundSize = "1024% 32%/16% 2048%";
        h = h + 1;

        var ojy = document.createElement(oi);
        ojy.style.position = 'absolute';
        ojy.id = 'bn'+h;
        ojy.style.cursor='pointer';
        ojy.onclick = function(){
          try {
            var idx = this.id.substring(2);
            var mp = document.getElementById('mPosition');
            var oDef = document.getElementById('oDef');
            if (mp) mp.value = idx;
            var target = document.getElementById('bn'+idx);
            if (oDef && target) oDef.innerText = target.innerHTML;
          } catch(_){}
        };
        document.body.appendChild(ojy);

        if (h === 20){
          if (!document.getElementById('navscrn')){
            var nav = document.createElement('div');
            nav.id = 'navscrn';
            nav.style.cssText = 'background:url(https://plabs.at.ua/bluetooth/trans/still/block_0_0_0.jpg);width:100%;height:100%;color:black;';
            nav.innerHTML = "<input type='button' value='PaintV..X' onclick='mvx()'><b id='proc' title='process'></b>"+
            "<input id='stepSize' value='4' type='text' style='width:30px' title='stepSize'>"+
            "<b style='background-color:silver;cursor:pointer' onclick='tul(stepSizeper)' title='Show more...'>stepSize</b>"+
            "<input id='eLoop' type='checkbox'>"+
            "<br><div id='stepSizeper' style='background:black;visibility:hidden;'>"+
            "<input id='stepSizetart' value='0' type='text' style='width:30px' title='stepSizetart'>"+
            "&lt;---&gt;<input id='stepEnd' value='1023' type='text' style='width:30px' title='stepEnd'></div><br>"+
            "<input id='scodeX' type='text' value='rings[u+zx+3]+512' title='scodeX'><b style='background-color:silver' title='scodeX'> :x</b><br>"+
            "<input id='scodeY' type='text' value='rings[u+zx+4]+360' title='scodeY'><b style='background-color:silver' title='scodeY'> :y</b><br>"+
            "<input id='stepColor' type='text' value='&quot;rgb(25,180,12)&quot;'><b style='background-color:silver'> :Color</b><br>"+
            "<input id='stepCode' type='text' value='&quot;☻&quot;' title='stepCode'><b style='background-color:silver'> :stepCode</b><br>"+
            "<input type='button' value='$Run' onclick='eval(document.getElementById(\"oDef\").value);'>"+
            "<input type='button' value='toolz' onclick='tul(tool);tul(page01);if(document.getElementById(\"eLoop\") && document.getElementById(\"eLoop\").checked===false){tul(pl80);tul(demLim)}'>";
            document.body.appendChild(nav);
            // default to enabled loop as in your patch notes
            setTimeout(function(){ var el = document.getElementById('eLoop'); if (el) el.checked = true; }, 0);
          }
        }
        setTimeout(printit,50);
      }
    }

    var o = 0, lTmer = 0, hPntz = 0; 
    function detrm(){ var mp = document.getElementById('mPosition'); if (mp) o = Number(mp.value)||0; }
    function def(){ 
      var mp = document.getElementById('mPosition');
      var oDef = document.getElementById('oDef');
      if (!mp || !oDef) return; 
      var tgt = document.getElementById('bn'+mp.value);
      if (tgt) tgt.innerHTML = oDef.innerText; 
    }

    var isIndex = [], ob = 0, isId = 0, u = 0, iu = 600, zx = 0;

    // --- FIX: define mvx and expose it globally so inline onclick can find it ---
    function mvx(){
      var eLoop = document.getElementById('eLoop');
      var stepSize = document.getElementById('stepSize');
      var stepSizetart = document.getElementById('stepSizetart');
      var stepEnd = document.getElementById('stepEnd');
      var proc = document.getElementById('proc');
      var scodeX = document.getElementById('scodeX');
      var scodeY = document.getElementById('scodeY');
      var stepColor = document.getElementById('stepColor');
      var stepCode = document.getElementById('stepCode');
      var chk = document.getElementById('chk');

      var sSize = Number(stepSize && stepSize.value || 0);
      if (eLoop && eLoop.checked === true && sSize >= 0) { /* keep legacy status write */ }

      var endVal = Number(stepEnd && stepEnd.value || 0);
      var startVal = Number(stepSizetart && stepSizetart.value || 0);

      if (o <= Math.floor(endVal / Math.max(1, sSize))){
        o = o + (startVal + sSize);
        var m = 'bn'+o;
        if (proc) proc.innerText = String(o);
        ob += 1; isId += 1; u += 1; iu = u*3; zx = zx + 2; i = i - sSize; iCount += 3.1415; var rad = iCount * deg2radians;
        var costheta = Math.cos(rad), sintheta = Math.sin(rad); x = x + costheta; y = y + sintheta;
        if (chk && chk.checked === true){
          var el = ensureUniqueId(m);
          el.style.zIndex = String(o);
          try {
            var col = stepColor.value;
            if (col.substring(1,4) === 'rgb'){
              el.innerHTML = eval(stepCode.value);
              el.style.fontSize = '14pt';
              el.style.color = eval(col);
            } else if (col.substring(3,7) === 'blue' || col.substring(1,5) === 'http'){
              el.innerHTML = "<img id='io"+ob+"' src="+eval(col)+" width="+ (window.stepWidth?stepWidth.value:16) +" height="+ (window.stepHeight?stepHeight.value:16) +">";
            }
            el.style.top = (Math.round(eval(scodeY.value))) + 'px';
            el.style.left = (Math.round(eval(scodeX.value))) + 'px';
            isIndex[isId] = parseInt(el.style.top,10)+','+parseInt(el.style.left,10)+','+parseInt(el.style.left,10);
          } catch(_){}
        }
        setTimeout(mvx,100);
      } else {
        o = 0; x = 0; i = 600; y = 0; ob = 0; u = 0; iu = 600; zx = 0;
      }
    }
    // expose globally for inline handlers created above
    window.mvx = mvx;

    // Untouched legacy helpers but made resilient
    function xIt(){ var stepSize = document.getElementById('stepSize'); if (stepSize) window.lvel = Number(stepSize.value) + 3; }
     window.opaz = function (){
      try {
        var sel = document.getElementById('selo');
        var sc = document.getElementById('stepColor');
        if (sel && sc){ var msp = sel.options[sel.selectedIndex].value; sc.value = msp.substring(4, msp.length - 1); }
      } catch(_){}
    }
    window.tul = function(ctr){ if (!ctr) return; ctr.style.visibility = (ctr.style.visibility === 'hidden' ? '' : 'hidden'); };

    // kick off
    printit();

    // Timers retained
    function getCar(){ alert(EmployeeD); setTimeout(getCar,5212); }
    var TimedM = new Date();
    var EmployeeD  = TimedM.getHours()+":"+TimedM.getSeconds()+" v1.0";
    function osc2(){ var stepSize = document.getElementById('stepSize'); if (stepSize && Number(stepSize.value) === 8){ alert(EmployeeD);} setTimeout(osc2,3000); }
    // getCar(); // left disabled to avoid alert loops on load
    // osc2();   // left disabled to avoid alert loops on load

  })();
  </script>

  <!-- ===== Minimal DOM seed & toolboxes (trimmed duplicates, original content preserved) ===== -->
  <div id="tool" style="position:absolute;left:212px;top:16px;visibility:hidden;z-index:1000;background:url(https://plabs.at.ua/bluetooth/trans/still/leaf.gif)">
    0
    <table>
      <tr>
        <td>
          <select id="selo" onselect="alert(this.id)">
            <!-- (Options list preserved verbatim from legacy) -->
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/leaf.gif&quot;)">A Leaf ---color</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/leaf_0_0_0.gif&quot;)">A Leaf 0.0.0 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/leaves_0_0_0.gif&quot;)">Leaves 0.0.0 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/leaves_0_0_1.gif&quot;)">Leaves 0.0.1 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/leaves_0_0_2.gif&quot;)">Leaves 0.0.2 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dot_0_0_0.gif&quot;)">A dot 0.0.0 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dot_0_0_1.gif&quot;)">A dot 0.0.1 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dot_0_0_2.gif&quot;)">A dot 0.0.2 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/fire_0_0_0.gif&quot;)">fire 0.0.0 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/rainyday_0_0_0.gif&quot;)">Rainy Day 0.0.0 ---gif</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/black.png&quot;)">A Black Square rdBorder ---background+color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/block_0_0_0.jpg&quot;)">Block 0.0.0 ---background+color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/black_0_0_0.png&quot;)">A Black Point ---color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/black_0_0_1.png&quot;)">A Black .Point ---color_0.0.1</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/black_0_0_2.png&quot;)">A Black Point ---color_0.0.2</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/yellow_0_0_0.png&quot;)">A Yellow Point --- color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/circlegradient_0_0_0.png&quot;)">A Circle Gradient --- color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/clouds_0_0_0.png&quot;)">Clouds --- color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/clouds_0_0_1.png&quot;)">Clouds --- color_0.0.1</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/clouds_0_0_3.png&quot;)">Clouds --- color_0.0.3</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/comet_0_0_0.png&quot;)">Comet --- color_0.0.0</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/red.png&quot;)">Red  Bolt--- png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/UsainBolt_0_0_0.png&quot;)">Red  --- png</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_0_0.png&quot;)">A Red Point --- color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_0_1.png&quot;)">A Red Point ---background+color_0.0.1</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_0_2.png&quot;)">A Red Point ---background+color_0.0.2</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_0_5.png&quot;)">A Red Point ---background+color_0.0.5</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_0_6.png&quot;)">A Red Point ---background+color_0.0.6</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_1_0.png&quot;)">A Red Point ---background+color_0.1.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/red_0_1_1.png&quot;)">A Red Point ---background+color_0.1.1</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/redbloodcell_0_0_0.png&quot;)">redbloodcell_0_0_0.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/redbloodcell_0_0_1.png&quot;)">redbloodcell_0_0_1.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/redbloodcell_0_1_0.png&quot;)">redbloodcell_0_1_0.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/redbloodcell_0_1_1.png&quot;)">redbloodcell_0_1_1.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/redbloodcell_0_2_1.png&quot;)">redbloodcell_0_2_1.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/redbloodcell_1_0_0.png&quot;)">redbloodcell_1_0_0.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/green.png&quot;)">Green  --- png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/green_0_0_1.png&quot;)">green_0_0_1.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/greenlight_0_0_0.png&quot;)">greenlight_0_0_0.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/greenlight_0_0_1.png&quot;)">greenlight_0_0_1.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/greenlight_0_0_3.png&quot;)">greenlight_0_0_3.png</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/blue.png&quot;)">Blue  --- png</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/blue_0_0_0.png&quot;)">A Blue Point --- color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/blue_3_0_0.png&quot;)">A Blue Point --- color_3.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/bluelight_0_0_0.png&quot;)">A Blue Light --- color_0.0.0</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/bluelight_0_0_1.png&quot;)">A Blue Light --- color_0.0.1</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/lighteffect_0_0_0.png&quot;)">lighteffect_0_0_0.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/lighteffect_0_0_1.png&quot;)">lighteffect_0_0_1.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/lighteffect_0_0_2.png&quot;)">lighteffect_0_0_2.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/lighteffect_0_0_3.png&quot;)">lighteffect_0_0_3.png</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/trans/still/lime.png&quot;)">lime.png</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/htmbg_0_0_2.gif&quot;)">Old Time School Sheet ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/old_0_0_0.png&quot;)">Old Time School 0_0_0 ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/utee.png&quot;)">A 3D Still Bubble ---color+background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/point.gif&quot;)">A Green 3D Still Point ---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/fractalligh_0_0_0.png&quot;)">Fractallight 0.0.0 ---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/trans_lily_0_0_1.gif&quot;)">Animated Lily Flower ---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/sqr_0_0_1.png&quot;)">A Pl Useful 3D Square ---color+background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/trans_petunia_0_0_2.gif&quot;)">A Petunia ---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/food/46.gif&quot;)">Food 46---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/fire/31.gif&quot;)">Fire 31---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/fun/40.gif&quot;)">Fun 40---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/sport/14.gif&quot;)">Sport 14---gif*</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/still/football_0_0_0.png&quot;)">Sport football 0.0.0---gif*</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/smilies/70.gif&quot;)">Smilies 70---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/lights/37.gif&quot;)">Lights 37---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/graphics/technick/80.gif&quot;)">Technick 80---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/1_107.gif&quot;)">BackGround 256x256---gif*</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/ani_water.gif&quot;)">Underwater reTURNIII---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/water_1.gif&quot;)">Water 0.0.1 ---gif</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/water_2.gif&quot;)">Water 0.0.2 ---gif</option>
            <option id="l" value="url(&quot;https://plabs.at.ua/bluetooth/bg/waterfall_0.gif&quot;)">Water fall 0.0.0 ---gif</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/rotating_globe.gif&quot;)">Global0 reTURNIII---gif*</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/rotating_earth.gif&quot;)">Global1 reTURNIII---gif*</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/aquarium_0_0_0.gif&quot;)">Aquarium eyeReBourneII---gif*</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/aquarium_0_0_0.jpg&quot;)">Aquarium II eyeReBourneII---jpg*</option>
            <option value="url(&quot;./bpot/water/afish.gif&quot;)">Anime Fish reTURNIII---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/afish_0_0_0.gif&quot;)">Anime Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/angelfish_0_0_0.gif&quot;)">Angelfish Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/bfish_0_0_1.gif&quot;)">B Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/clownfish_0_0_0.gif&quot;)">Clown Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/discusfish_0_0_0.gif&quot;)">Discus Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/discusfish_0_0_1.gif&quot;)">Discus II Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/discusfish_0_0_2.gif&quot;)">Discus III Fish reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dolphin_0_0_0.gif&quot;)">Dolphin 0.0.0 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dolphin_0_0_1.gif&quot;)">Dolphin 0.0.1 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dolphin_0_0_2.gif&quot;)">Dolphin 0.0.2 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dolphin_0_1_1.gif&quot;)">Dolphin 0.1.1 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dolphin_0_1_2.gif&quot;)">Dolphin 0.1.2 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/dolphin_0_1_3.gif&quot;)">Dolphin 0.1.3 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/guppie_0_0_0.gif&quot;)">Guppie 0.0.0 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/guppie_0_0_1.gif&quot;)">Guppie 0.0.1 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/guppie_0_2_0.gif&quot;)">Guppie 0.2.0 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/guppie_0_2_1.gif&quot;)">Guppie 0.2.1 reFurBed---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/tigerfish_0_0_0.gif&quot;)">tiger fish 0.0.0 reFurBed---color</option>
            <option value="url(&quot;./bpot/water/bfish.gif&quot;)">3D Fish reTURNIII---color</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/quake_0_0_1.jpg&quot;)">Quake 0.0.1 ---background</option>
            <option value="url(&quot;./sc900.jpg&quot;)">Counter Strike ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/counter_strike/counterplay_0_0_0.jpg&quot;)">Counter Strike 0.0.0 ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/counter_strike/counterplay_0_0_1.jpg&quot;)">Counter Strike 0.0.1 ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/trans/counter_strike/counterplay_0_0_2.jpg&quot;)">Counter Strike 0.0.2 ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/blue_gradient_0_0_0.jpg&quot;)">Blue Gradient 0.0.0 ---background</option>
            <option value="url(&quot;https://plabs.at.ua/bluetooth/bg/earth_0_0_0.jpg&quot;)">Blue Earth 0.0.0 ---background</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/rainyday_0_0_0.gif&quot;)">Rainy Day 0.0.0 ---gif</option>
            <option id="leaf" value="url(&quot;https://plabs.at.ua/bluetooth/trans/mot/R0010217_20160708075807.jpg&quot;)">VR 360 Museum 0.0.0 ---gif</option>
            <option id="lea" value="url(&quot;https://plabs.at.ua/bluetooth/trans/porta/fadhan.jpg&quot;)">nane 0 0.0.0 ---gif</option>
            <option value="&quot;rgb(255,255,255)&quot;">White ---background only</option>
            <option value="lightgray">LightGray ---background only</option>
            <option value="gray">Gray ---background only</option>
            <option value="rgb(0,0,0)">Black ---background only</option>
            <option value="&quot;rgb(148,148,148)&quot;">@------  solar and planetarium  ------@</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/mot/HalfAptIlladopsis-size_restricted.gif&quot;)">HalfAptIlladopsis-size_restricted</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/mot/2002-NT7-ORBITA-EN-GIF.gif&quot;)">2002-NT7-ORBITA-EN-GIF</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/mot/anim_five_planet_2.gif&quot;)">anim_five_planet_2</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/mot/dcolroid.gif&quot;)">dcolroid</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/mot/Halley-s_Comet_animation.gif&quot;)">Halley-s_Comet_animation</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/mot/giphy.gif&quot;)">GIPHY</option>
            <option value="url(&quot;http://plabs.at.ua/bluetooth/system/still/sun.png&quot;)">SUN ----png</option>
          </select>
          <input type="button" value="change" onclick="opaz()">
          <input id="chk" type="checkbox" checked>
          <input type="button" value="colors" onclick="tul(page01)">
        </td>
      </tr>
      <tr>
        <td>
          <input id="wL" type="text" value="i/14">
          <input id="hT" type="text" value="i/14">
          <img src="https://plabs.at.ua/res/icos/ur.gif" style="position:relative;top:8px;width:12px;height:24px;" title="Undo/Redo or simply input position level">
          <input id="mPosition" type="text" value="0" style="width:45px;">
          <input type="button" value="moVE" onclick="(function(){var v=document.getElementById('mPosition'); if(v){ window.o = Number(v.value)||0; }})()">
        </td>
      </tr>
      <tr>
        <td>
          <input id="bo" type="text" value="rgb(200, 200,230)">
          <input type="button" value="fillBG" onclick="document.body.style.background=document.getElementById('bo').value;">
          <input type="button" value="fillB2" onclick="(function(){ try{ var sel=document.getElementById('selo'); if(sel) document.body.style.background=sel.options[sel.selectedIndex].value; }catch(_){}})()">
          <input type="button" value="SetFill" onclick="(function(){var cl=document.getElementById('clor'); if(!cl){cl=document.createElement('input');cl.id='clor';cl.value='';} document.getElementById('bo').value='url('+cl.value+')';})()">
          <input type="button" value="Advanced :(-_-)" onclick="tul(cntrForm1);">
        </td>
      </tr>
    </table>
  </div>

  <div id="cntrForm1" style="position:absolute;top:135px;z-index:1000;left:10px;background:url(https://plabsfill.at.ua/cucciola/pTr0n3kr.png)100% 100%/100% 1000%;visibility:hidden;">
    <input type="button" value="AutoExe" onclick="tul(objDef);"><br>
    <input type="button" value="close=)" onclick="tul(cntrForm1)"><br>
    <input type="button" id="pgl" value="&lt;Page0" onclick="tul(page02);">
    <input type="button" id="pgr" value="Page1&gt;" onclick="tul(page03);">
    <input type="button" id="pcoords" value="Coords" onclick="tul(page04);"><br>
    <input type="text" id="rXcode" value="zaa/600+400">360x<br>
    <input type="text" id="rYcode" value="rings[zaa]">360x
  </div>

  <div id="objDef" style="position:absolute;top:135px;z-index:1000;left:200px;background:brown;visibility:hidden;">
    <textarea id="oDef" style="width:300px;height:230px;">document.body.style.background=bo.value;</textarea><br>
    <input type="button" value="Change" onclick="eval(document.getElementById('oDef').value)">
    <input type="button" value="Clear" onclick="document.getElementById('oDef').innerText = 0">
    <input type="button" value="Exec" onclick="(function(){var mp=document.getElementById('mPosition'); var oDef=document.getElementById('oDef'); if(mp&&oDef){ var t=document.getElementById('bn'+mp.value); if(t) t.innerHTML=oDef.innerText; }})()">
  </div>

  <!-- Pages page01/page02/page88/page03/page04 preserved (collapsed for brevity except key controls) -->
  <div id="page01" style="visibility:hidden;background:black;width:300px;height:400px;position:absolute;right:3px;top:0;">
    <b><br><center><img src="https://plabs.at.ua/bluetooth/gallery/pplay0001.gif"></center>
    <a href="https://info.flagcounter.com/1xp7"><img src="https://s01.flagcounter.com/count2/1xp7/bg_F1FFB8/txt_000000/border_CCCCCC/columns_4/maxflags_12/viewers_0/labels_0/pageviews_1/flags_0/percent_0/" title="Flag Counter" border="0"></a>
    <div id="page01p1"></div><br>
    <input type="button" value="Play Music" onclick="eval(lista)"><br>
    <center>
      <input type="button" value="&lt;" onclick="">
      <input type="text" id="pgindex" style="width:30px;" value="0">
      <input type="button" value=">" onclick="">
    </center>
    </b>&nbsp;
  </div>

  <div id="page02" style="visibility:hidden;background:black;width:300px;height:400px;position:absolute;right:3px;top:0;">
  </div>

  <!-- Export/Import page (kept) -->
  <div id="page04" style="visibility:hidden;position:absolute;right:3px;top:0;">
    <b>
      <div style="background:gray;">
        <input type="button" value="Export" onclick="download(document.getElementById('kordstxt').innerHTML, 'pExports'+Math.floor((Math.random()*9999999)+1000000)+'.html', 'text/html');">
        <input type="button" value="Import" onclick="fread()">
        <input type="button" value="Clear" onclick="window.isIndex=[0];"><br>
        <textarea id="kordstxt" onclick="this.innerText = isIndex" style="width:300px;height:400px;">Trying</textarea>
      </div>
    </b>
  </div>

  <div id="page03" style="visibility:hidden;background:black;width:300px;height:400px;position:absolute;right:3px;top:0;">
  </div>

  <!-- Simple runner -->
  <center style="position:fixed;left:0;right:0;bottom:12px;">
    <input type="text" id="AV" value="alert(this.tagName)">
    <input type="button" value="$run()" onclick="eval(document.getElementById('AV').value)">
  </center>

  <!-- Pre-create a few bn* anchors to mirror the original appearance (others created at runtime) -->
  <div id="bn1" style="position:absolute;"></div>
  <div id="bn2" style="position:absolute;"></div>
  <div id="bn3" style="position:absolute;"></div>

  <!-- Partner download lib (kept) -->
  <script src="https://plabs.at.ua/res/partner/download.js"></script>
</body>
</html>
